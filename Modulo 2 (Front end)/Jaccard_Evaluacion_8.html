<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        //Usuarios
        let user01 = {
            username: "Juan",
            password: "123456",
            balance: 20,
        }
        let user02 = {
            username: "Carla",
            password: "321654",
            balance: 999,
        }
        let user03 = {
            username: "Ramiro",
            password: "654321",
            balance: 1666,
        }

        let users = [user01, user02, user03]

        //Función de identificador de usuario

        function Authenticator() {
            while (true) {
                alert("Bienvenido a Banca en Línea");
                let inputUser = prompt("Ingrese su usuario: ");
                let inputPass = prompt("Ingrese su contraseña: ");
                for (let i = 0; i < users.length; i++) {
                    if (users[i].username === inputUser && users[i].password === inputPass) {
                        alert(`Bienvenido ${users[i].username}`);
                        return users[i]
                    }
                }
                alert("Contraseña y/o usuario incorrectos, intente nuevamente");
            }
        }

        //Función de inicio de sesión. Retorna objeto users.username/password/balance

        function Menu() {
            let opcion;
            do {
                opcion = prompt("Menú principal:\n1) Ver saldo\n2) Realizar giro\n3) Realizar depósito\n4) Salir");
                if (opcion == 1) {
                    alert(`Su saldo actual es: $${authUser.balance} pesos`);
                } else if (opcion == 2) {
                    let withdraw = parseFloat(prompt(`Su saldo actual es: $${authUser.balance} pesos\nIngrese el monto que desea girar:`));
                    authUser.balance -= withdraw
                    alert(`Giro realizado. Su nuevo saldo es: $${authUser.balance} pesos`);
                } else if (opcion == 3) {
                    let deposit = parseFloat(prompt(`Su saldo actual es: $${authUser.balance} pesos\nIngrese el monto que desea depositar:`));
                    authUser.balance += deposit
                    alert(`Deposito realizado. Su nuevo saldo es: $${authUser.balance} pesos`);
                } else if (opcion == 4 || opcion == null) {
                    alert("Gracias por preferir nuestros servicios.");
                } else {
                    alert("Opción inválida.");
                }
            } while (opcion != 4 && opcion !== null);
        }

        //Llamados de funciones

        let authUser = Authenticator()
        Menu()


    </script>
</body>

</html>